Title: psd plugin
Author: わたなべごう、ゆーき

●これはなに？

PSDを操作するクラスです

●ビルドについて

本プラグインでは、ビルドにboost C++ ライブラリを必要とします。
以下より取得してライブラリをビルドし、VisualStudioに
インクルードとライブラリのパスを設定しておいてください。

http://www.boost.org/

なお、iostreams::mapped_file_sourceを使用しているため、ヘッダだけではなく
ビルドした状態のboostが必要です。

VS2015ではNuGet用のパッケージ情報(packages.config)を用意しているので
パッケージの復元で必要なファイルが揃う…かもしれません。
手元で確認した環境では以下のパッケージを導入してビルドを確認しています。
- boost / 1.66.0.0
- boost_filesystem-vc140 / 1.66.0.0
- boost_iostreams-vc140 / 1.66.0.0
- boost_system-vc140 / 1.66.0.0

●XPサポート

VS2012では、以下のURLを参考にUpdateを導入して下さい。
http://blogs.msdn.com/b/jpvsblog/archive/2013/04/17/visual-studio-2012-windows-xp-visual-c.aspx

VS2015では、インストーラ(プログラムと機能から呼び出せます)から
Visual-C++＞C++に関するWindows XPサポートを追加してください。

●ビルド成果物

plugin/ ディレクトリに psd.dll が生成されます。

●使い方

詳細は manual.tjs 参照

・画像形式について
現在、マルチチャンネル、DuoTone、Lab以外の形式の読み込みに対応していますが、
一部の形式については簡易的なものなので注意してください。

  プロファイルに対応していないため、以下のファイルについては、
  Photoshopでの画面表示とは色が異なります。

	CMYK(16/32bpp)、RGB(32bpp)

  以下のモードではレイヤが存在しないため、画像データの取得には
  getBlend() を使用してください

	2値ビットマップ、インデックスカラー

・マスクについて
レイヤマスクが存在する場合は、画像読み込み時にアルファチャネルに
マスク情報を繰り込んでいます。
今のところプラグインからはマスク画像を独立して取り出す方法はありません。
またクリッピングマスクには対応していません。

・PSDレイヤファイルシステム

以下のパス名でPSDファイルのレイヤ画像を直接ファイルとしてロードできます

psd://PSDファイル名/root/フォルダ名/.../レイヤ名.bmp
psd://PSDファイル名/id/レイヤID.bmp

・PSDファイル名はベース名のみで小文字で正規化されます
・フォルダ名、レイヤ名は全て小文字で正規化されて含まれる"/" は "_" に置換されます
・名前が重複する場合は後にあるものが優先になります

●ライセンス

このプラグインのライセンスは吉里吉里本体に準拠してください。
(zlib部分を除く)
